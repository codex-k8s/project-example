# 01-workflows-reuse

## Цель
Свести дублирование логики в GitHub Actions к минимуму и сделать единый источник правды в codexctl.

## Что делаем и где
- В `codexctl` добавляем новый CLI‑слой для CI (группа команд `codexctl ci ...`).
  - Файлы: `codexctl/internal/cli/ci.go` и связанные модули.
  - Документация: `codexctl/README.md`, `codexctl/README_RU.md`.
- В `project-example` и `Alimentor` заменяем повторяющиеся блоки в воркфлоу на короткие вызовы `codexctl ci ...`.
  - Файлы: `project-example/.github/workflows/*.yml`, `Alimentor/.github/workflows/*.yml`.

## Что именно переносим в codexctl
- Повторяющиеся шаги: установка/сборка codexctl, зеркалирование/сборка образов, apply с ретраями, ожидание деплойментов, запуск prompt, cleanup/gc.
- Единые таймауты, ретраи, backoff и вывод статусов в человеко‑читаемом и машинном формате.

## Зачем
- Уменьшить размер воркфлоу и риск расхождений между репозиториями.
- Стабилизировать поведение CI (ретраи и таймауты становятся консистентными).
- Упростить публикацию и поддержку примера для сообщества.

## Ожидаемый результат
- Воркфлоу в обоих репозиториях содержат минимальные и понятные вызовы `codexctl ci ...`.
- Любое изменение CI‑логики производится в одном месте — `codexctl`.
